//----------------------------------------------------------------------------
//
//  $Workfile: StopWatch.hpp
//
//  $Revision: X$
//
//  Project:    Unencumbered Jellyfish
//
//                            Copyright (c) 2022
//                               Jim Wright
//                            All Rights Reserved
//
//  Modification History:
//  $Log:
//  $
//
//----------------------------------------------------------------------------

//----------------------------------------------------------------------------
//  Includes
//----------------------------------------------------------------------------
#include <stdint.h.>

//----------------------------------------------------------------------------
//Class Declarations
//----------------------------------------------------------------------------
//
//Class Name: StopWatch
//
//Purpose:
//  The class that runs the stop watch
//
//----------------------------------------------------------------------------
class StopWatch
{
  //----------------------------------------------------------------------------
  //  Class attributes
  //----------------------------------------------------------------------------
  uint32_t mLastTime;
  uint32_t mWaitTime;

    //----------------------------------------------------------------------------
    //  Purpose:
    //      Return the current time in ms
    //
    //  Notes:
    //      None
    //
    //----------------------------------------------------------------------------
    uint32_t Now(void);

  public:
    //----------------------------------------------------------------------------
    //  Purpose:
    //      Constructor
    //
    //  Notes:
    //      None
    //
    //----------------------------------------------------------------------------
    StopWatch();

    //----------------------------------------------------------------------------
    //  Purpose:
    //      Constructor
    //
    //  Notes:
    //      None
    //
    //----------------------------------------------------------------------------
    StopWatch(uint32_t waitTime);

    //----------------------------------------------------------------------------
    //  Purpose:
    //      Change the wait time for the stop watch
    //
    //  Notes:
    //      None
    //
    //----------------------------------------------------------------------------
    void SetTime(uint32_t waitTime);

    //----------------------------------------------------------------------------
    //  Purpose:
    //      Has the stop watch finished
    //
    //  Notes:
    //      None
    //
    //----------------------------------------------------------------------------
    bool IsExpired(void);

    //----------------------------------------------------------------------------
    //  Purpose:
    //      Reset the stopwatch
    //
    //  Notes:
    //      None
    //
    //----------------------------------------------------------------------------
    void Reset(void);

    //----------------------------------------------------------------------------
    //  Purpose:
    //      Return the amount of time left to cound
    //
    //  Notes:
    //      None
    //
    //----------------------------------------------------------------------------
    uint32_t GetTimeLeft(void);
};
